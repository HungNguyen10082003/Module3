CREATE DATABASE QuanLyHocSinh;
USE QuanLyHocSinh;

-- Bảng HOCSINH
CREATE TABLE HOCSINH (
    MaHS VARCHAR(20) PRIMARY KEY,
    TenHS VARCHAR(50),
    NgaySinh DATETIME,
    Lop VARCHAR(20),
    GT VARCHAR(20)
);

-- Bảng GIAOVIEN
CREATE TABLE GIAOVIEN (
    MaGV VARCHAR(20) PRIMARY KEY,
    TenGV VARCHAR(50),
    SDT VARCHAR(10)
);

-- Bảng MONHOC
CREATE TABLE MONHOC (
    MaMH VARCHAR(20) PRIMARY KEY,
    TenMH VARCHAR(50),
    MaGV VARCHAR(20),
    FOREIGN KEY (MaGV) REFERENCES GIAOVIEN(MaGV)
);

-- Bảng BANGDIEM
CREATE TABLE BANGDIEM (
    MaHS VARCHAR(20),
    MaMH VARCHAR(20),
    DiemThi INT,
    NgayKT DATETIME,
    PRIMARY KEY (MaHS, MaMH),
    FOREIGN KEY (MaHS) REFERENCES HOCSINH(MaHS),
    FOREIGN KEY (MaMH) REFERENCES MONHOC(MaMH)
);


-- Thêm giáo viên
INSERT INTO GIAOVIEN VALUES ('GV01', 'Trần Văn Chánh', '0912345678');
INSERT INTO GIAOVIEN VALUES ('GV02', 'Chánh TV', '0987654321');

-- Thêm môn học
INSERT INTO MONHOC VALUES ('MH01', 'Toán', 'GV01');
INSERT INTO MONHOC VALUES ('MH02', 'Văn', 'GV02');

-- Thêm học sinh
INSERT INTO HOCSINH VALUES ('HS01', 'Nguyễn Hữu Hưng', '2008-09-20', '12A1', 'Nam');
INSERT INTO HOCSINH VALUES ('HS02', 'Nguyễn Thị Hồng', '2008-11-05', '12A2', 'Nữ');

-- Thêm bảng điểm
INSERT INTO BANGDIEM VALUES ('HS01', 'MH01', 9, '2024-05-15');
INSERT INTO BANGDIEM VALUES ('HS01', 'MH02', 7, '2024-05-16');
INSERT INTO BANGDIEM VALUES ('HS02', 'MH01', 8, '2024-05-15');
INSERT INTO BANGDIEM VALUES ('HS02', 'MH02', 9, '2024-05-16');

SHOW TABLES;
SELECT * FROM HOCSINH;
SELECT * FROM GIAOVIEN;
SELECT * FROM MONHOC;
SELECT * FROM BANGDIEM;

